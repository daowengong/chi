/* SVN.committedRevision=1308594 */
var lazyLoadDelay=50;(function(b){b.YHD={imgLoad:{objArray:[],timeout:null,timeoutLoad:function(d){var a=b.YHD.imgLoad;if(b.YHD.imgLoad.timeout){return}a.timeout=setTimeout(function(){a.timeout=null;a.load()},d)},loadImg:function(e){if(e&&e.length>0){for(var f=0,a=e.length;f<a;f++){if(b.inArray(e[f],b.YHD.imgLoad.objArray)==-1){b.YHD.imgLoad.objArray.push(e[f])}}}},pageTop:function(){return document.documentElement.clientHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)},load:function(){var j=b.YHD.imgLoad;if(j.timeout){return}var i=j.objArray;while(i.length){var g=i.shift();if(!g){continue}var h=b("#"+g);if(!h.length){continue}var a=0;$(h[0].getElementsByTagName("img")).each(function(){var c=this.getAttribute("original");if(c){$(this).attr("src",c).removeAttr("original");
a++}});if(a>0){return j.timeoutLoad(a*5)}}}}}})(jQuery);(function(c){var d=function(b){var f=b,a={activeLoadTime:2000,activeLoad:false,ele:"div",lazyAttr:"lazyLoadDom",hfix:620,callback:null,scrollLoad:true};c.extend(a,f);this.param=a};d.prototype={constructor:d,areaArray:[],doc:document,lazyDom:function(b,j){var k=this,m=k.param,l=m.ele,a=m.lazyAttr,n;if(b){k.param=c.extend(m,b)}if(j){n=k.getJqueryDom(j).find(l+"["+a+"]").get()}else{n=c(k.doc).find(l+"["+a+"]").get()}if(n&&n.length>0){c.merge(k.areaArray,n)}k.scrollLoadInit();k.activeLoadInit()},activeLoadInit:function(){var j=this,i=j.param,a=i.activeLoad,k=i.activeLoadTime,b,l=j.areaArray;if(!a){return}b=setInterval(function(){var e=j.areaArray;if(e.length==0){clearInterval(b);return}j.dealSomeDom(1)},k)},scrollLoadInit:function(){var b=this,f=b.param;if(f.scrollLoad){loli.scroll(function a(){b.dealAllDom();
if(b.areaArray.length==0){c(window).unbind("scroll",a)}},200)}},dealAllDom:function(){var g=this,h=g.param,b=h.callback,a=[];jQuery.each(g.areaArray,function(e,f){if(g.isInCurrScreen(f)){g.loadDom(f);if(b){h.callback.call(c(f))}}else{a.push(f)}});g.areaArray=a},dealSomeDom:function(i){var n=this,q=n.param,a=q.callback,o=n.areaArray,b=[],p,m=Math.min(o.length,i),r;for(var p=0;p<m;p++){r=o.shift();n.loadDom(r);if(a){a.call(c(r))}}},loadDom:function(b){var j=this,l=j.getJqueryDom(b),i="",a=l.find("textarea")[0],k=j.getJqueryDom(a);if(k&&k.length>0){i=k.val()}l.html(i)},isInCurrScreen:function(o){var m=this,l=m.getJqueryDom(o),r=m.doc,b=r.documentElement,n=m.param,q=n.hfix,p=Math.max(b.scrollTop,r.body.scrollTop),a=b.clientHeight+p;if(l){return(l.offset().top<a+q)&&(l.offset().top>p-q)}return false
},getJqueryDom:function(a){if(!a){return a}if(a instanceof c){return a}return c(a)}};c.fn.extend({channelLazyDom:function(a){var b=new d();return b.lazyDom(a,this)}})})(jQuery);var busystcok=URLPrefix.busystock?URLPrefix.busystock:"http://gps.yhd.com";var yhdChannelV2={};(function(h){yhdChannelV2=yhdChannelV2||{};var g=false;var e=500;var f=200;yhdChannelV2.loadPriceDom=yhdChannelV2.loadPriceDom||[];yhdChannelV2.pageTop=function(){return document.documentElement.clientHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)};yhdChannelV2.getPriceName=function(c){var a=c,b="";if(a==1){b="1号店价："}else{if(a==2){b="促销价："}}if(globalShowMarketPrice&&globalShowMarketPrice==1){b="价格："}return b};yhdChannelV2.getPriceDomHtml=function(b){var a=b.html,d=b.price,c=b.priceType;if(!a){return"请期待"}if(a!="y"){if(a.indexOf("#price#")>-1){a=a.replace("#price#",d)}if(a.indexOf("#name#")>-1){a=a.replace("#name#",yhdChannelV2.getPriceName(c))}}else{a="&yen;"+d}return a
};yhdChannelV2.loadPrice=function(){if(g){return}g=true;var m=0;try{if(!h.cookie("provinceId")){return}var a=yhdChannelV2.pageTop();if(!yhdChannelV2.lazyLoadPrice){yhdChannelV2.lazyLoadPrice=h("[priceDomId]")}if(yhdChannelV2.loadPriceDom&&yhdChannelV2.loadPriceDom.length>0){$.merge(yhdChannelV2.lazyLoadPrice,yhdChannelV2.loadPriceDom);yhdChannelV2.loadPriceDom=[]}var d="?mcsite="+currSiteId+"&provinceId="+h.cookie("provinceId");var c=[];if(yhdChannelV2.lazyLoadPrice&&yhdChannelV2.lazyLoadPrice.length>0){var b={};yhdChannelV2.lazyLoadPrice.each(function(j){if(f>m&&h(this).offset().top<=a+100){var i=h(this).attr("priceDomId");if(!b[i]){b[i]=[];b[i].push({elem:h(this)});d+="&pmIds="+i;m++}else{b[i].push({elem:h(this)})}}else{c.push(this)}});yhdChannelV2.lazyLoadPrice=h(c);if(m>0){var l=busystcok+"/busystock/restful/truestock";
h.getJSON(l+d+"&callback=?",function(i){if(!i||i.ERROR){return}h.each(i,function(j,v){var w=v.pmId,k=v.productPrice,x=v.curPriceType,t=v.marketPrice,u=b[w];h.each(u,function(z,s){var r=s.elem.find("[realprice]");var o=s.elem.find("[highprice]");if(!globalShowMarketPrice||globalShowMarketPrice!=1){if(o&&o.length>0){if(k==t){o.css("visibility","hidden")}else{o.html("&yen;"+t)}}}else{o.html("&yen;"+t)}if(r&&r.length>0){var p={html:r.attr("realprice"),price:k,priceType:x};var q=yhdChannelV2.getPriceDomHtml(p);r.html(q);r.removeAttr("realprice")}s.elem.removeAttr("priceDomId")})})})}}}catch(n){setTimeout("yhdChannelV2.loadPrice()",e)}if(m>=f){setTimeout("yhdChannelV2.loadPrice()",e)}g=false};h(window).bind("scroll",yhdChannelV2.loadPrice);setTimeout("yhdChannelV2.loadPrice()",e)})(jQuery);var yhdF2E={};yhdF2E.tabSwitch=function(c,d,j,b){var a=$(j);a.find(c).each(function(){$(this).children("li").eq(b).addClass("on")});a.each(function(){$(this).find(d).eq(b).show()});a.each(function(e){var f=a.eq(e).find(c).children("li");f.mouseover(function(){var i=f.index(this),h=$(this);var g=a.eq(e).find(d);h.siblings("li").removeClass("on");h.addClass("on");g.hide();g.eq(i).stop().show()})})};yhdF2E.clSlider=function(a,b,c,d,h){var C=$(c),F=C.find(a),D=C.find(b),A=D.children("li");var B=parseFloat(C.height()),w=parseFloat(C.width());var G=F.children("li").length,H=d;var J;I();function I(){z();e();E()}function e(){J=setInterval(z,h)}function E(){A.mouseover(function(){H=A.index($(this));$(this).siblings().removeClass("on").end().addClass("on");clearInterval(J);z()}).mouseout(function(){e()
})}function z(){if(H<G){var f=B*H;A.eq(H).siblings().removeClass("on").end().addClass("on");F.stop().animate({top:-f},300);H++;if(H==G){H=0}}}};yhdF2E.showTag=function(){$(".flagshipList a").hover(function(){$(this).children(".extra").show()},function(){$(this).children(".extra").hide()})};yhdF2E.bindTracker=function(b){$("#"+b).delegate("a[tk]","click",function(){var d=$(this),a=d.attr("tk");if(a){addTrackPositionToCookie("1",a)}})};function setAddressCityback(h){if(currSiteId==2){addTrackPositionToCookie("1","YW_Province")}var l=window.location.href,i=$.cookie("provinceId");if(l.indexOf("provinceId=")!=-1){var k=/provinceId=[0-9]+/;l=l.replace(k,"provinceId="+i);window.location.href=l;return}var j=/^(http:\/\/){0,1}([^/]+\/)[0-9]+[/]{0,1}([^/]+){0,1}$/;if(l.match(j)){l=l.replace(j,"$1$2"+i+"/$3");
window.location.href=l;return}var m=/^(http:\/\/){0,1}([^\/]+\/channel\/[0-9]+_)[0-9]+[\/]{0,1}([^/]+){0,1}$/;if(l.match(m)){l=l.replace(m,"$1$2"+i+"/$3");window.location.href=l;return}var n=/^(http:\/\/){0,1}(channel|channel-home)(\.[a-zA-Z0-9]+\.com\/[a-zA-Z0-9]+\/)(baobao_[0-9]+\/){0,1}[0-9]+\/{0,1}(\?[^\/]+){0,1}(#[^\/]+)*$/;if(l.match(n)){l=l.replace(n,"$1$2$3$4"+i+"/$5");window.location.href=l;return}window.location.reload()}(function(k){var m=1,n=window.location.href,l=k.cookie("provinceId");var p=/^http:\/\/channel\.[^\/]+\.com\/[a-zA-Z]+\/([0-9]+)/;j(p);var o=/^http:\/\/[^\/]+\.com\/([0-9]+)[\/]{0,1}/;j(o);var i=/^http:\/\/[^\/]+\/channel\/[0-9]+_([0-9]+)/;j(i);function j(a){var b=n.match(a);if(b&&b.length>1){m=b[1];if(l&&l>0&&m!=l){setAddressCityback()}}}})(jQuery);(function(){var Switchable=function(){};Switchable.prototype={main:function(elem){var st=this;var data=eval("("+$(elem).attr("st-config")+")")||null;if(data==null){return false}st.markeds={contentBox:"st-contentBox",triggerBox:"st-triggerBox",btnPrev:"st-btnPrev",btnNext:"st-btnNext"};st.effect=data.effect||"scrollx";st.autoPlay=data.autoPlay||false;st.interval=data.interval||3000;st.activeClass=data.activeClass||"on";st.space=data.space||0;st.speed=data.speed||300;st.eventType=data.eventType||"mouseover";st.delay=data.delay||0;st.onChange=data.onChange||null;st.currentIndex=0;st.timer=0;st.container=$(elem);st.sprite=st.container.find("."+st.markeds.contentBox);st.liArr=st.sprite.children();st.len=st.liArr.length;st.btnArr=st.container.find("."+st.markeds.triggerBox).children();st.btnPrev=st.container.find("."+st.markeds.btnPrev);
st.btnNext=st.container.find("."+st.markeds.btnNext);st.initStyle();st.addEvent();st.autoCutover()},initStyle:function(){var st=this;var ef=st.effect;st.container.css({overflow:"hidden",position:"relative"});switch(ef){default:case"scrollx":st.sprite.css({width:st.len*st.space,position:"absolute"});st.liArr.css({"float":"left"});break;case"scrolly":st.sprite.css({position:"absolute"});break;case"fade":st.liArr.css({opacity:0,"z-index":0,position:"absolute"});$(st.liArr[0]).css({opacity:1,"z-index":1});break;case"visible":st.liArr.css({display:"none"});$(st.liArr[0]).css({display:"block"});break}},addEvent:function(){var st=this;var delayed=0;st.btnArr.each(function(i,e){$(e).bind(st.eventType,function(){clearInterval(delayed);delayed=setInterval(function(){st.currentIndex=i;st.cutover();clearInterval(delayed)
},st.delay)})});st.container.mouseenter(function(){clearInterval(st.timer)});st.container.mouseleave(function(){st.autoCutover()});st.btnPrev.click(function(){st.currentIndex--;if(st.currentIndex<0){st.currentIndex=st.len-1}st.cutover()});st.btnNext.click(function(){st.currentIndex++;if(st.currentIndex>st.len-1){st.currentIndex=0}st.cutover()})},cutover:function(){var st=this;var ef=st.effect;st.btnArr.removeClass(st.activeClass);$(st.btnArr[st.currentIndex]).addClass(st.activeClass);switch(ef){default:case"scrollx":st.sprite.stop().animate({left:-st.space*st.currentIndex},st.speed);break;case"scrolly":st.sprite.stop().animate({top:-st.space*st.currentIndex},st.speed);break;case"fade":st.liArr.stop().animate({opacity:0});st.liArr.css("z-index",0);$(st.liArr[st.currentIndex]).stop().animate({opacity:1},st.speed);
$(st.liArr[st.currentIndex]).css("z-index",1);break;case"visible":st.liArr.css({display:"none"});$(st.liArr[st.currentIndex]).css({display:"block"});break}if(st.onChange!=null){st.onChange(st.currentIndex)}},autoCutover:function(){var st=this;if(!st.autoPlay){return false}st.timer=setInterval(function(){st.currentIndex++;if(st.currentIndex>st.len-1){st.currentIndex=0}st.cutover()},st.interval)}};var Exchange=function(){};Exchange.prototype={main:function(elem){var ex=this;var data=$.parseJSON($(elem).attr("ex-config"))||null;if(data==null){return false}ex.markeds={contentBox:"ex-contentBox",triggerBox:"ex-triggerBox",btnPrev:"ex-btnPrev",btnNext:"ex-btnNext"};ex.container=$(elem);ex.sprite=ex.container.find("."+ex.markeds.contentBox);ex.template=ex.sprite.html();ex.json=data.json||{};ex.num=data.num||0;
ex.space=data.space||0;ex.speed=data.speed||300;ex.effect=data.effect||"default";ex.eventType=data.eventType||"mouseover";ex.delay=data.delay||0;ex.onChange=data.onChange||null;ex.activeClass=data.activeClass||"on";ex.btnPrev=ex.container.find("."+ex.markeds.btnPrev);ex.btnNext=ex.container.find("."+ex.markeds.btnNext);ex.btnArr=ex.container.find("."+ex.markeds.triggerBox).children();ex.init=data.init||null;if(ex.init!=null){ex.init()}ex.currentIndex=0;ex.page=Math.ceil(ex.json.length/ex.num);ex.initData();ex.addEvent()},isfirst:false,initData:function(){var ex=this;var htmlText="";var currHtml=ex.sprite.html();var arg0=arguments[0];for(var i=0;i<ex.num;i++){if(ex.json[i]){htmlText+=ex.substitute(ex.template,ex.json[i])}}if(!ex.isfirst){ex.isfirst=true;ex.sprite.html(htmlText);ex.sprite.css({position:"absolute"})
}else{switch(ex.effect){default:case"default":ex.sprite.html(htmlText);break;case"scrollx":moveto("left");break;case"scrolly":moveto("top");break;case"lined":replaceDom("defalut");break;case"linedFade":replaceDom("fade");break}if(ex.onChange!=null){ex.onChange(ex.currentIndex)}}function moveto(fx){ex.sprite.html("");var str,dest;if(arg0){ex.sprite.css({width:ex.space*3});str=currHtml+htmlText;dest=ex.space}else{str=htmlText+currHtml;ex.sprite.css(fx,-ex.space);dest=0}ex.sprite.html(str);var o={};o[fx]=-dest;ex.sprite.stop().animate(o,ex.speed,function(){ex.sprite.css(fx,0);ex.sprite.html(htmlText)})}function replaceDom(){var m=0;var childArr=ex.sprite.children();var m=arg0?ex.num-1:0;var aStr=arguments[0];run();var loop=setInterval(function(){if(arg0){m--;if(m<0){clearInterval(loop)}}else{m++;
if(m>ex.num-1){clearInterval(loop)}}run()},100);function run(){var newE=ex.json[m]?ex.substitute(ex.template,ex.json[m]):"";$(childArr[m]).replaceWith(newE);if(aStr=="fade"){var currElem=$(ex.sprite.children()[m]);currElem.css("opacity",0.5);currElem.animate({opacity:1})}}}},addEvent:function(){var ex=this;var delayed=0;ex.btnArr.each(function(i,e){$(e).bind(ex.eventType,function(){clearInterval(delayed);delayed=setInterval(function(){var diff=Math.abs(ex.currentIndex-i);if(diff!=0){ex.currentIndex<i?next(diff):prev(diff)}ex.currentIndex=i;clearInterval(delayed)},ex.delay)})});ex.btnPrev.click(function(){prev(1)});ex.btnNext.click(function(){next(1)});function prev(m){for(var o=0;o<m;o++){for(var n=0;n<ex.num;n++){var e=ex.json.pop();ex.json.unshift(e)}ex.currentIndex--;if(ex.currentIndex<0){ex.currentIndex=ex.page-1
}cutover()}ex.initData(false)}function next(m){for(var o=0;o<m;o++){for(var n=0;n<ex.num;n++){var e=ex.json.shift();ex.json.push(e)}ex.currentIndex++;if(ex.currentIndex>ex.page-1){ex.currentIndex=0}cutover()}ex.initData(true)}function cutover(){ex.btnArr.removeClass(ex.activeClass);$(ex.btnArr[ex.currentIndex]).addClass(ex.activeClass)}},substitute:function(str,object){return str.replace(/\\?\{([^}]+)\}/g,function(match,name){if(match.charAt(0)=="\\"){return match.slice(1)}return(object[name]!=undefined)?object[name]:""})}};$(function(){var stArr=$(".yhdui-plug-switchable");if(stArr.length>0){stArr.each(function(i,e){new Switchable().main(e)})}var exArr=$(".yhdui-plug-exchange");if(exArr.length>0){exArr.each(function(i,e){new Exchange().main(e)})}})})();(function(a){yhdF2E.marketChannel={lazyImg:function(){if(isWidescreen){a("#mainContainer").lazyImg({wideAttr:"data-wi",indexLoad:true})}else{a("#mainContainer").lazyImg({indexLoad:true})}},initChangeBtn:function(){a(".spec_mod").delegate(".title .btn_change","click",function(){var d=a(this);var c=d.parents(".pro_mod").find(".pro_list").find("ul:visible");if(c&&c.length>0){var b=c.find("div:visible").next();if(b&&b.length>0){b.show().siblings().hide()}else{c.find("div:first").show().siblings().hide()}}})}};a(document).ready(function(){yhdF2E.bindTracker("mainContainer");yhdF2E.marketChannel.lazyImg();yhdF2E.marketChannel.initChangeBtn();a("#conRight").channelLazyDom({callback:function(){yhdChannelV2.loadPriceDom=yhdChannelV2.loadPriceDom||[];var b=a(this).find("[priceDomId]");a.merge(yhdChannelV2.loadPriceDom,b)
}})})})(jQuery);var man={isWidescreen:screen.width>=1200?true:false,ie6:navigator.appVersion.indexOf("MSIE 6")>-1,configIndexStyle:function(){if(this.isWidescreen){$(document.body).addClass("w1200")}},cateMenuFixed:function(){var d=$("#cateMenu");if(d.length<1){return false}var e=d.offset().top,c=this,b=$(".container").height()+$(".container").offset().top,a=d.height();$(window).scroll(function(){var f=document.documentElement.scrollTop||document.body.scrollTop;if(f>e){c.ie6?d.css({position:"absolute",top:f-e+65}):d.css({position:"fixed",top:35})}else{d.css({position:"static",top:e})}if(b-f<a){d.css({position:"absolute",top:b-a-e})}})},saleHighlight:function(){$(".banner .proBox dd").hover(function(){$(this).siblings("dd").find("i").show();$(this).find("i").hide()},function(){$(this).parent().find("dd i").hide()
})},hotTitleShow:function(){$(".mod_banner .item_banner").hover(function(){$(this).children().show()},function(){$(this).children("img").show().siblings().hide()})},TabSwitch:function(){$(".spec_mod").delegate(".title ul li","hover",function(){var b=$(this),a=b.index();b.addClass("cur").siblings().removeClass("cur");b.parents(".spec_mod").find(".pro_list ul").eq(a).show().siblings(".pro_list ul",".spec_mod").hide()})},brandTabSwitch:function(a){var b=a;$(".btn_page span",b).hover(function(){var d=$(this),c=d.index();d.addClass("cur").siblings(".brand_mod .btn_page span").removeClass("cur");d.parents(b).find(".brand_list ul").eq(c).show().siblings(".brand_mod .brand_list ul").hide()})},mian:function(){this.configIndexStyle();this.cateMenuFixed();this.saleHighlight();this.hotTitleShow();this.TabSwitch();
this.brandTabSwitch(".brand_mod")}};$(function(){man.mian()});var SwitchTab=function(a){this.init(a)};SwitchTab.prototype={space:0,sprite:null,ac:"",time:0,btnArr:[],n:0,lastBtn:null,timer:0,ap:false,effect:"",speed:0,liArr:[],init:function(d){this.space=d.space||0;this.time=d.time||3000;this.ac=d.activeClass;this.ap=d.autoPlay||false;this.effect=d.effect||"left";this.speed=d.speed||300;this.sprite=this.getElem(d.imgId);this.liArr=this.getElem(d.imgId).getElementsByTagName("li")||[];this.btnArr=this.getElem(d.btnId).getElementsByTagName("span")||[];var a=this;var b=d.eventType||"mouseover";this.onChange=d.onChange||null;a.lastBtn=a.btnArr[0];for(var c=0;c<a.btnArr.length;c++){a.btnArr[c].index=c;a.btnArr[c]["on"+b]=function(){a.n=this.index;a.move()}}$("#"+d.btnId).parent().mouseenter(function(){clearInterval(a.timer)
});$("#"+d.btnId).parent().mouseleave(function(){a.autoPlay()});if(a.effect=="opacity"){for(c=0;c<a.liArr.length;c++){$(a.liArr[c]).css({opacity:0,"z-index":-1})}$(a.liArr[0]).css({opacity:1,"z-index":1})}this.autoPlay()},getElem:function(a){return document.getElementById(a)},move:function(){var a=this;var d=a.effect;if(d=="opacity"){for(var b=0;b<a.liArr.length;b++){if(b==a.n){$(a.liArr[b]).css({"z-index":1});$(a.liArr[b]).stop().animate({opacity:1},a.speed)}else{$(a.liArr[b]).stop().animate({opacity:0},a.speed);$(a.liArr[b]).css({"z-index":-1})}}}else{if(d=="visible"){for(b=0;b<a.liArr.length;b++){$(a.liArr[b]).css({display:b==a.n?"block":"none"})}}else{var c={};c[d]=-a.n*a.space;$(a.sprite).stop().animate(c,a.speed)}}$(a.lastBtn).removeClass(a.ac);$(a.btnArr[a.n]).addClass(a.ac);a.lastBtn=a.btnArr[a.n];
if(this.onChange!=null){this.onChange()}},autoPlay:function(){if(this.ap){var b=this;var a=b.btnArr.length;b.timer=setInterval(function(){b.n++;if(b.n>a-1){b.n=0}b.move()},b.time)}}};